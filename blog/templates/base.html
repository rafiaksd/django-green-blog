{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Blog{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" href="{% static 'images/pg_icon.jpg' %}" type="image/jpg">

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Google Fonts: Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --treegreen: #45cc5a;
            --darkblack: #142c96;
        }
        .user-name {
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
            font-size: 1.5em;
        }
        .bg-treegreen {
            background-color: var(--treegreen);
        }
        .text-treegreen {
            color: var(--treegreen);
        }
        .neo-card {
            border: 2px solid black;
            box-shadow: 2px 2px 0 black;
            transition: all 0.2s ease;
        }
        .neo-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: 8px 8px 0 var(--treegreen);
        }

        article .prose a {
            text-decoration: underline;
            text-shadow: blue;
            color:rgb(2, 187, 194);
            font-weight: 700;
        }

        article .blog_title{
            font-size: 2em;
            margin-bottom: 1.2em;
        }

        body {
            font-family: 'Inter', sans-serif; /* Default font for body */
            line-height: 1.6; /* Improve line height for readability */
            color: #333; /* Slightly darker text color */
            background-color: #f9f9f9; /* Light background color */
        }

        article {
            font-family: 'Roboto', sans-serif; /* Use Roboto for the blog article */
            line-height: 1.5; /* Increase line height for better readability */
            color: #222;
        }

        article h1, article h2, article h3, article h4, article h5, article h6 {
            font-family: 'Inter', sans-serif; /* Use Inter for headings */
            font-weight: 600; /* Make headings bolder */
            color: #111; /* Darker color for headings */
            margin-bottom: 1em;
            line-height: 1.1; 
        }

        article h1 {
            font-size: 2.2em; /* Heading 1 - large */
        }

        article h2 {
            font-size: 2em; /* Heading 2 */
        }

        article h3 {
            font-size: 1.8em; /* Heading 3 */
        }

        article h4 {
            font-size: 1.6em; /* Heading 4 */
        }

        article h5 {
            font-size: 1.5em; /* Heading 5 */
        }

        article h6 {
            font-size: 1.35em; /* Heading 6 - small */
        }

        .prose p {
            font-size: 1.1em; /* Default paragraph size */
            margin-bottom: 1.25em; 
            line-height: 1.4; /* Improved line spacing */
        }

        .prose div {
            font-size: 1.35em;
        }

        .prose img {
            max-width: 100%; /* Make images responsive */
            height: auto; /* Maintain aspect ratio */
            display: block;
            margin: 20px auto; /* Center the images */
        }

        /* --- Responsive images --- */
        img {
            display: block;
            margin: 1em auto; /* center images */
            max-width: 90%;     /* 90% of container width */
            max-height: 450px;  /* maximum height */
            width: auto;
            height: auto;
            object-fit: cover;  /* cover while preserving aspect ratio */
            border-radius: 0.3rem;
        }

        .marker {
            background-color: yellow;
            padding: 0 3px;
        }

        @media (min-width: 768px) {
            .prose p {
                font-size: 1.35em;
            }

            article .blog_title{
                font-size: 3.2em;
                margin-bottom: 1em;
            }
        }
        
    </style>

    {% block meta %}
    <meta name="description" content="A Neo-Brutalist blog built with Django">
    <meta property="og:title" content="My Blog">
    <meta property="og:description" content="Fresh content, bold design.">
    {% endblock %}
</head>
<body class="bg-white text-black">
    <!-- =================== Navbar ==================================== -->
        
    <nav class="bg-treegreen border-b-4 border-black p-3 md:p-4">
  <div class="flex flex-col md:flex-row md:justify-between md:items-center">

    <!-- Top Row (Profile + Title + Hamburger) -->
    <div class="flex justify-between items-center w-full max-h-[70px]">
      <!-- Profile Picture -->
       <div class="flex-grow max-w-[80px] md:max-w-[100px] object-cover">
        <img src="{% static 'images/actual_pfp.jpg' %}" style="border-radius: 500px;" alt="Profile Picture">
        </div>

      <!-- Title in Center -->
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-extrabold uppercase text-black text-center flex-grow">
        My Blog Website
      </h1>

      <!-- Hamburger Button (only visible on small screens) -->
      <button id="menu-toggle"
              class="md:hidden p-2 border-2 border-black rounded-lg bg-white ml-2">
        <svg xmlns="http://www.w3.org/2000/svg"
             class="h-6 w-6 text-black"
             fill="none"
             viewBox="0 0 24 24"
             stroke="currentColor">
          <path stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <!-- Collapsible Menu -->
    <div id="menu-content"
         class="hidden flex-col md:flex md:flex-row md:items-center md:space-x-2 mt-3 md:mt-0 space-y-2 md:space-y-0">

      <a href="{% url 'blog_list' %}"
         class="px-4 py-2 border-2 border-black bg-white text-black hover:bg-[#FFFF00] hover:text-treegreen transition text-center rounded-lg">
        Blogs
      </a>

      <a href="{% url 'about' %}"
         class="px-4 py-2 border-2 border-black bg-white text-black hover:bg-[#FFFF00] hover:text-treegreen transition text-center rounded-lg">
        About
      </a>

      {% if user.is_superuser %}
      <a href="{% url 'admin_panel' %}"
         class="px-4 py-2 border-2 border-black bg-black text-white hover:bg-[#142c96] hover:text-treegreen transition text-center rounded-lg">
        Admin
      </a>
      {% endif %}

      {% if user.is_authenticated %}
      <span class="text-black font-semibold text-center">
        {{ user.username }}
      </span>

      <form action="{% url 'logout' %}" method="post" class="inline">
        {% csrf_token %}
        <button type="submit"
                class="w-full md:w-auto px-4 py-2 border-2 border-black bg-white text-black hover:bg-[#FFFF00] hover:text-treegreen transition rounded-lg">
          Logout
        </button>
      </form>
      {% else %}
      <a href="{% url 'login' %}"
         class="px-4 py-2 border-2 border-black bg-white text-black hover:bg-[#FFFF00] hover:text-treegreen transition text-center rounded-lg">
        Login
      </a>

      
      {% endif %}
    </div>
  </div>
</nav>

<!-- Toggle Script -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu-content');
    toggleBtn.addEventListener('click', () => {
      menu.classList.toggle('hidden');
      menu.classList.toggle('flex');
    });
  });
</script>



    <!-- ================ END NAVBAR (UI + JavaScript) ================= -->


    <div class="container mx-auto p-2 md:p-6">
        {% block content %}{% endblock %}
    </div>

    <!-- Footer -->
    <footer class="bg-black text-white text-center py-6 mt-16 border-t-4 border-treegreen pb-16">
        <p>Â© {{ current_time.year }} My Blog. All rights reserved.</p>
    </footer>
</body>
</html>
